{"ast":null,"code":"// import axios from 'axios';\nimport { ref, onMounted } from 'vue';\nexport function usePosts(limit) {\n  const posts = ref([]);\n  const totalPages = ref(0);\n  const isPostLoading = ref(true);\n  const fetching = async () => {\n    try {\n      const response = await axios.get('https://jsonplaceholder.typicode.com/posts', {\n        params: {\n          _page: 1,\n          _limit: limit\n        }\n      });\n      totalPages.value = Math.ceil(response.headers['x-total-count'] / limit);\n      posts.value = response.data;\n    } catch (e) {\n      alert('Ошибка!');\n    } finally {\n      isPostLoading.value = false;\n    }\n  };\n  onMounted(fetching);\n  return {\n    posts,\n    isPostLoading,\n    totalPages\n  };\n}","map":{"version":3,"names":["ref","onMounted","usePosts","limit","posts","totalPages","isPostLoading","fetching","response","axios","get","params","_page","_limit","value","Math","ceil","headers","data","e","alert"],"sources":["C:/Users/ivank/Desktop/vue-project/src/hooks/usePosts.js"],"sourcesContent":["// import axios from 'axios';\r\nimport {ref, onMounted} from 'vue';\r\n\r\n\r\nexport function usePosts(limit) {\r\n    const posts = ref([])\r\n    const totalPages = ref(0)\r\n    const isPostLoading = ref(true)\r\n    const fetching = async () => {\r\n        try {\r\n            const response = await axios.get('https://jsonplaceholder.typicode.com/posts', {\r\n                params: {\r\n                    _page: 1,\r\n                    _limit: limit\r\n                }\r\n            });\r\n            totalPages.value = Math.ceil(response.headers['x-total-count'] / limit)\r\n            posts.value = response.data;\r\n        } catch (e) {\r\n            alert('Ошибка!');\r\n        } finally {\r\n            isPostLoading.value = false;\r\n        }\r\n    }\r\n\r\n    onMounted(fetching) \r\n        return {\r\n            posts, isPostLoading, totalPages\r\n        }\r\n    \r\n\r\n}"],"mappings":"AAAA;AACA,SAAQA,GAAG,EAAEC,SAAS,QAAO,KAAK;AAGlC,OAAO,SAASC,QAAQ,CAACC,KAAK,EAAE;EAC5B,MAAMC,KAAK,GAAGJ,GAAG,CAAC,EAAE,CAAC;EACrB,MAAMK,UAAU,GAAGL,GAAG,CAAC,CAAC,CAAC;EACzB,MAAMM,aAAa,GAAGN,GAAG,CAAC,IAAI,CAAC;EAC/B,MAAMO,QAAQ,GAAG,YAAY;IACzB,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACC,GAAG,CAAC,4CAA4C,EAAE;QAC3EC,MAAM,EAAE;UACJC,KAAK,EAAE,CAAC;UACRC,MAAM,EAAEV;QACZ;MACJ,CAAC,CAAC;MACFE,UAAU,CAACS,KAAK,GAAGC,IAAI,CAACC,IAAI,CAACR,QAAQ,CAACS,OAAO,CAAC,eAAe,CAAC,GAAGd,KAAK,CAAC;MACvEC,KAAK,CAACU,KAAK,GAAGN,QAAQ,CAACU,IAAI;IAC/B,CAAC,CAAC,OAAOC,CAAC,EAAE;MACRC,KAAK,CAAC,SAAS,CAAC;IACpB,CAAC,SAAS;MACNd,aAAa,CAACQ,KAAK,GAAG,KAAK;IAC/B;EACJ,CAAC;EAEDb,SAAS,CAACM,QAAQ,CAAC;EACf,OAAO;IACHH,KAAK;IAAEE,aAAa;IAAED;EAC1B,CAAC;AAGT"},"metadata":{},"sourceType":"module"}